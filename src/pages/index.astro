---
import Layout from "../layouts/Layout.astro";
import BigSponsors from "./big-sponsors.astro";
---

<Layout title="Jata">
  <h1 class="text-3xl font-bold tracking-tight text-white md:text-6xl px-4">
    Just Another Todo App<span class="text-pink-500">.</span>
  </h1>
  <h2 class="text-base pt-2 text-neutral-400 px-4">Nothing more.</h2>
  <div
    class="pb-6 pt-4 text-xs flex gap-2 gap-2 justify-center flex-row flex-wrap"
  >
    <a
      class="hover:underline cursor-pointer text-white flex gap-2 items-center justify-center text-xs"
      target="_blank"
      href="https://twitch.tv/heyandras"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4 text-purple-500"
        width="200"
        height="200"
        viewBox="0 0 24 24"
        ><path
          fill="currentColor"
          d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"
        ></path></svg
      >

      Building in live-streams</a
    >
  </div>
  <div class="pb-2 pt-2 flex justify-center text-center px-4">
    <div>
      <a
        href="https://app.jata.app?ref=jata.app"
        class="text-base font-bold rounded p-4 px-2 text-white bg-coolgray-300 hover:bg-coolgray-400 flex gap-2 w-96 justify-center"
      >
        Have a productive day

        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="size-5 text-pink-500"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-arrow-up-right"
          ><path d="M7 7h10v10"></path><path d="M7 17 17 7"></path></svg
        ></a
      >
    </div>
  </div>
  <!-- <div class="text-white pb-4 pt-6 text-base">
    Special sponsors<a
      target="_blank"
      href="https://github.com/sponsors/coollabsio/sponsorships?tier_id=334953&preview=false"
      class="text-blue-500 border rounded-full px-1 ml-2 border-blue-500 cursor-pointer hover:bg-blue-500 hover:text-black font-bold text-xs"
      >?</a
    >
  </div>

  <div id="sponsors-section">
    <BigSponsors />
  </div> -->

  <button
    id="skip-to-features"
    class="fixed bottom-4 right-4 bg-pink-500 text-black font-bold rounded-full p-2 shadow-lg opacity-0 transition-opacity duration-300 hover:bg-pink-500/80 flex gap-1.5 items-center text-xs z-50"
    aria-label="Skip to Features"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-4 w-4"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
    </svg>
    Skip to Features
  </button>

  <div id="features" class="text-center text-4xl font-bold pt-10 text-white">
  </div>
  <div
    class="mx-auto mt-16 max-w-2xl sm:mt-14 lg:mt-14 lg:max-w-none text-left"
  >
    <dl
      class="grid max-w-xl grid-cols-1 gap-x-8 px-4 gap-y-16 lg:max-w-none lg:grid-cols-3"
    >
      <div class="flex flex-col">
        <dt class="flex items-center gap-x-3 text-xl text-white">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon text-pink-500"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-alarm-clock-check"
            ><circle cx="12" cy="13" r="8"></circle><path d="M5 3 2 6"
            ></path><path d="m22 6-3-3"></path><path d="M6.38 18.7 4 21"
            ></path><path d="M17.64 18.67 20 21"></path><path d="m9 13 2 2 4-4"
            ></path></svg
          >

          Todos for today
        </dt>
        <dd
          class="mt-4 flex flex-auto flex-col text-sm leading-6 text-neutral-400"
        >
          <p class="flex-auto">
            Simply add your daily todos to a list to know what to do today. <br
            /><br /> To be productive, you need to know what to do. There is no bloat
            UI, just a simple list.
          </p>
        </dd>
      </div>
      <div class="flex flex-col">
        <dt class="flex items-center gap-x-3 text-xl text-white">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon text-pink-500"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-list-todo"
            ><rect x="3" y="5" width="6" height="6" rx="1"></rect><path
              d="m3 17 2 2 4-4"></path><path d="M13 6h8"></path><path
              d="M13 12h8"></path><path d="M13 18h8"></path></svg
          >
          Dump Todos
        </dt>
        <dd
          class="mt-4 flex flex-auto flex-col text-sm leading-6 text-neutral-400"
        >
          <p class="flex-auto">
            Dump your todos to a list so you never forget anything.<br /><br /> When
            you start your day and nothing to do, you can go through this list and
            quickly add them to today's list.
          </p>
        </dd>
      </div>
      <div class="flex flex-col">
        <dt class="flex items-center gap-x-3 text-xl text-white">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon text-pink-500"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-hash"
            ><line x1="4" x2="20" y1="9" y2="9"></line><line
              x1="4"
              x2="20"
              y1="15"
              y2="15"></line><line x1="10" x2="8" y1="3" y2="21"></line><line
              x1="16"
              x2="14"
              y1="3"
              y2="21"></line></svg
          >
          Hashtags for grouping
        </dt>
        <dd
          class="mt-4 flex flex-auto flex-col text-sm leading-6 text-neutral-400"
        >
          <p class="flex-auto">
            Simply add hashtags to your title to group your todos, visually and
            logically.
          </p>
        </dd>
      </div>
    </dl>
  </div>
</Layout>

<script>
  const skipButton = document.getElementById("skip-to-features");
  const sponsorsSection = document.getElementById("sponsors-section");
  const featuresSection = document.getElementById("features");
  const mainContent = document.querySelector("main");

  if (skipButton && sponsorsSection && featuresSection && mainContent) {
    const showSkipButton = () => {
      skipButton.style.opacity = "1";
      skipButton.style.pointerEvents = "auto";
    };

    const hideSkipButton = () => {
      skipButton.style.opacity = "0";
      skipButton.style.pointerEvents = "none";
    };

    // Show button at the top of the page
    const topObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting && window.scrollY < 200) {
            showSkipButton();
          }
        });
      },
      { threshold: 1.0 },
    );

    // Show button in sponsors section
    const sponsorsObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            showSkipButton();
          }
        });
      },
      { threshold: 0.1 },
    );

    // Hide button when features section is visible
    const featuresObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            hideSkipButton();
          }
        });
      },
      { threshold: 0.1 },
    );

    topObserver.observe(mainContent);
    sponsorsObserver.observe(sponsorsSection);
    featuresObserver.observe(featuresSection);

    skipButton.addEventListener("click", () => {
      featuresSection.scrollIntoView({ behavior: "smooth" });
    });

    // Also show button when user is at the very top of the page
    window.addEventListener("scroll", () => {
      if (window.scrollY < 200) {
        showSkipButton();
      } else if (
        sponsorsSection.getBoundingClientRect().top >= window.innerHeight
      ) {
        hideSkipButton();
      }
    });
  }
</script>
